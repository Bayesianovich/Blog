<header id="header">
  <div class="header-inner">
    <div id="logo-wrap">
      <div class="logo-container">
        <img src="<%= theme.profile.avatar %>" alt="Avatar" class="header-avatar">
        <a href="<%- url_for('/') %>" id="logo"><%= config.title %></a>
      </div>
    </div>

    <nav id="main-nav">
      <!-- Search (Left of Home) -->
      <a class="main-nav-link search-trigger" href="javascript:void(0)" onclick="openSearchModal()">
        <i class="fas fa-search"></i> Search
      </a>

      <!-- Home -->
      <a class="main-nav-link" href="<%- url_for('/') %>">
        <i class="fas fa-home"></i> 首页
      </a>

      <!-- Articles Dropdown -->
      <div class="nav-item dropdown">
        <a class="main-nav-link dropdown-toggle" href="javascript:void(0)">
          <i class="fas fa-columns"></i> 文章 <i class="fas fa-chevron-down"></i>
        </a>
        <div class="nav-dropdown">
          <a href="<%- url_for('/tags/') %>" class="dropdown-item">
            <i class="fas fa-tags"></i> 标签
          </a>
          <a href="<%- url_for('/archives/') %>" class="dropdown-item">
            <i class="fas fa-archive"></i> 归档
          </a>
          <a href="javascript:void(0)" onclick="randomPost()" class="dropdown-item">
            <i class="fas fa-random"></i> 随便逛逛
          </a>
        </div>
      </div>

      <!-- Weekly -->
      <a class="main-nav-link" href="<%- url_for('/categories/Weekly/') %>">
        <i class="far fa-newspaper"></i> 周报
      </a>

      <!-- LeetCode -->
      <a class="main-nav-link" href="<%- url_for('/categories/LeetCode/') %>">
        <i class="fas fa-code"></i> 刷题
      </a>

      <!-- My Dropdown -->
      <div class="nav-item dropdown">
        <a class="main-nav-link dropdown-toggle" href="javascript:void(0)">
          <i class="fas fa-heart"></i> 我的 <i class="fas fa-chevron-down"></i>
        </a>
        <div class="nav-dropdown right-aligned">
          <a href="<%- url_for('/about/') %>" class="dropdown-item">
            <i class="fas fa-leaf"></i> 关于
          </a>
          <a href="<%- url_for('/categories/Weekly/') %>" class="dropdown-item">
            <i class="far fa-newspaper"></i> 周报
          </a>
        </div>
      </div>

      <!-- Theme Toggle -->
      <a class="main-nav-link" href="javascript:void(0)" id="theme-toggle" title="Toggle Theme">
        <i class="fas fa-moon"></i>
      </a>
    </nav>
  </div>
</header>

<script>
  // Simple Random Post Logic
  function randomPost() {
    var posts = [
      <% site.posts.each(function(post){ %>
        "<%- url_for(post.path) %>",
      <% }) %>
    ];
    var randomUrl = posts[Math.floor(Math.random() * posts.length)];
    window.location.href = randomUrl;
  }
</script>